"use strict";if($(".main-body .page-wrapper").find("#item-details-container").length){var e=0,t=[],s=!1,i=$("#item_price").text(),a=[],o=0;possbileVariations=JSON.parse(possbileVariations),defaultAttributes=JSON.parse(defaultAttributes),"Variable Product"!=itemType&&M(formatedSaleTo,offerFlag);var n=[];w();var r=0;function l(e){let t=[];$.each($(".option_price"),function(e,s){t[e]=void 0!==$(this).find(":selected").attr("data-optionRealId")?$(this).find(":selected").attr("data-optionRealId"):$(this).attr("data-optionRealId")}),jQuery.inArray(e,t)||($("#item-add-to-cart").addClass("add-to-cart"),$("#item-add-to-cart").removeClass("disable_a_href"))}function d(){$("#item-add-to-cart").removeClass("add-to-cart"),$("#item-add-to-cart").addClass("disable_a_href")}function c(e,t){"relate"==e?delete preVDuplicateRelate[t]:"cross"==e?delete preVDuplicateCross[t]:"up"==e&&delete preVDuplicateUp[t]}x(),$(document).ready(function(){$("#stars li").on("mouseover",function(){var e=parseInt($(this).data("value"),10);$(this).parent().children("li.star").each(function(t){t<e?$(this).addClass("hover"):$(this).removeClass("hover")})}).on("mouseout",function(){$(this).parent().children("li.star").each(function(e){$(this).removeClass("hover")})}),$(document).on("click","#stars li",function(){var t=parseInt($(this).data("value"),10),i=$(this).parent().children("li.star");for(let a=0;a<i.length;a++)$(i[a]).removeClass("selected");for(let o=0;o<t;o++)$(i[o]).addClass("selected");e=$(this).attr("data-value"),s=!0})}),$(document).on("click",".image-thumbnail",function(){var e=$(this).data("src");$(".preview-image img").attr("src",e),$(".preview-body").show();var t=$(".preview-body");$(".preview-body").remove(),$("body").append(t),$(".preview-body").animate({opacity:"1"},"slow")}),$(document).on("click",".preview-image span",function(){$(".preview-body").animate({opacity:"0"},"slow"),setTimeout(()=>{$(".preview-body").hide()},1e3)});var p=[],u=0,h=0,v=[];function f(e){var t=token,s=reviewUrl+"?page="+e,i=itemId;return $.ajax({url:s,method:"POST",data:{_token:t,page:e,product_id:i},success:function(e){$("#load_review").html(e),$("span span.text-gray-500").css("background","#eee")}}),1}function g(){for(var e=document.getElementById("image"),t=0;t<e.files.length;t++){var s=e.files[t];if(!allowExtension.includes(s.name.split(".").pop()))return!1;if(s.size>2048e3)return 2}return!0}$(document).on("change","#image",function(e){var t=this;if(!g())return $("#message").show(200),$("#message").html('<span class="font-bold text-red-600">'+jsLang("Please upload valid images")+"</span>"),$("#image").val(""),$(".error").remove(),0;if(2==g())return $("#message").show(200),$("#message").html('<span class="font-bold text-red-600">'+jsLang("Maximum file size 2MB")+"</span>"),$("#image").val(""),$(".error").remove(),0;$("#message").hide(200),$(".error").remove();for(var s=e.target.files,i=s.length,a=0;a<i;a++){var o=s[a];p[h++]=o.name;var n=new FileReader;n.onload=function(e){$(t).closest("form").find("#imgs").append(`
                    <div class="pip error">
                        <div class="relative inline-block">
                            <img class="imageThumb object-cover h-24 w-24 border-2" src="${e.target.result}"/>
                            <span data-id="${u++}" class="removes absolute rounded-full bg-red-200 px-2 cursor-pointer -top-3 -right-3 text-bold text-red-700">x</span>
                        </div>
                    </div>
                `)},n.readAsDataURL(o)}}),$(document).on("click",".removes",function(){Swal.fire({title:jsLang("Are you sure?"),text:jsLang("You won't be able to revert this!"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:jsLang("Yes, delete it!")}).then(e=>{if(e.isConfirmed){var t=$(this).data("id");$(this).closest(".pip").remove(),void 0!==t&&(v.push(p[t]),$("#deleted-files").val(v))}})}),$("#view-more").css("background","linear-gradient(0deg, rgba(255,255,255,1) 0%, rgba(255,255,255,1) 65%, rgba(255,255,255,0) 100%)"),$(document).on("click","#view-more span",function(){$(".item-full-details").find(".add").length?($("#item-details-section")[0].scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),$(".item-full-details").addClass("h-full"),$(".item-full-details").removeClass("h-96"),$("#view-more").addClass("remove"),$("#view-more svg").addClass("rotated-view"),$("#view-more").removeClass("add"),$("#hidden_description").removeClass("display-none"),$("#view-more span").text(jsLang("See Less")),$("#hidden_summary").addClass("display-none")):($("#item-details-section")[0].scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),$(".item-full-details").removeClass("h-full"),$(".item-full-details").addClass("h-96"),$("#view-more").removeClass("remove"),$("#view-more svg").removeClass("rotated-view"),$("#view-more").addClass("add"),$("#hidden_description").addClass("display-none"),$("#view-more span").text(jsLang("See More")),$("#hidden_summary").removeClass("display-none"),setTimeout(()=>{$(document).scrollTop($(document).scrollTop()-100)},1e3))}),$(".rating-width").each((e,t)=>{$(t).css("width",$(t).data("width")+"%")}),$("span span.text-gray-500").css("background","#eee"),$("#reviewFrom").on("submit",function(t){t.preventDefault();let s=e;if(0==s&&1==rattingRequired)$("#message").show(500).html('<span class="font-bold text-red-600">'+jsLang("Rating field is required")+"</span>");else{if($("#imgs").find(".pip").length>15)return $("#message").show(200),$("#message").html('<span class="font-bold text-red-600">'+jsLang("You can only upload a maximum of 15 files.")+"</span>"),0;$(".save-review").addClass("flex").html(`
                ${jsLang("Submitting")}
                <svg class="animate-spin text-gray-700 w-4 h-4 ml-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="#ddd" stroke-width="3"></circle>
                    <path class="opacity-75" fill="#fff" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
            `);let i=$("#comments").val();var a=new FormData(this);a.append("rating",s),a.append("comments",i),a.append("product_id",itemId),$.ajax({url:SITE_URL+"/myaccount/review-store",type:"POST",dataType:"JSON",data:a,contentType:!1,cache:!1,processData:!1,success:function(e){1==e.status?(setTimeout(()=>{$(".review-store-section").hide(500),f(1)},3e3),$("#imgs").html(""),$("#message").show(200),$("#message").html('<span class="font-bold text-green-600">'+jsLang(e.message)+"</span>"),$("#comments").val(null),$(".star").removeClass("selected"),v=[],p=[],u=0,h=0):($("#message").show(200),$("#message").html('<span class="font-bold text-red-600">'+jsLang(e.message)+"</span>"))},error:function(e,t,s){401==e.status?($("#message").show(200),$("#message").html('<span class="font-bold text-red-600">'+jsLang("To give a review, you need to login first.")+"</span>")):($("#message").show(200),$("#message").html('<span class="font-bold text-red-600">'+jsLang(s)+"</span>"))},complete:function(){$(".save-review").removeClass("flex").html(`
                        ${jsLang("Submit Reveiw")}
                    `)}})}setTimeout(()=>{$("#message").hide(500)},5e3)});var b=null;function w(){$.each($(".item-variations"),function(){$(this).is("select")?0!=$(this).val().length?T($("option:selected",this).attr("data-id"),$("option:selected",this).attr("data-position")):I():$(this).is("input[type='radio']")&&($(this).is(":checked")?T($(this).attr("data-id"),$(this).attr("data-position")):I()),z(),y(),!0==k()?$("#clear-variation").removeClass("display-none"):$("#clear-variation").addClass("display-none")})}function y(){let e,t=!0;e=JSON.parse(attributePriceWithId.replace(/[\r\n]+/g,"")),$.each(e,function(e,s){if(P(s.attributeIds)){t=!1,a=[],$("#availability").addClass("display-none"),$("#item_price").removeClass("display-none"),$("#item_price").text(decimalNumberFormatWithMultiCurrency(s.price)),$(".product-view-summary .main-summary").addClass("display-none"),$(".product-view-summary .variation").removeClass("display-none").html(s.description),$("#varMinMaxPrice").addClass("display-none"),variationId=s.variation_id,variationStatus=s.stock_status,variationAttributeIds=s.attributeIds,backOrders=s.backOrders,"sale"==s.priceType?(r=s.discountInPercent,offerFlag=!0):offerFlag=!1,o=s.isOutOfStock.outOfStockVisibility,B(s.images),"1"==s.is_enable_b2b?($("#b2b_table").html(""),_(s.b2b_data)):$("#b2b_table").html("");let i="",n="";if(""!=s.weight&&(i=`<tr id="weightRow">
                    <td class="py-4 px-6 border">${jsLang("Weight")}</td>
                    <td class="py-4 px-6 border">${s.weight} ${messurementWeight}</td>
                      </tr>`,$("#weightRow").replaceWith(i)),(""!=s.dimensions.length||""!=s.dimensions.width||""!=s.dimensions.height)&&(n=`
                    <tr id="dimensionsRow">
                        <td class="py-4 px-6 border">${jsLang("Dimensions")}</td>
                        <td class="py-4 px-6 border">${""!=s.dimensions.length?s.dimensions.length:null} ${""!=s.dimensions.width?"\xd7 "+s.dimensions.width:""}
                          ${""!=s.dimensions.height?"\xd7 "+s.dimensions.height:""} ${messurementDimension}</td>
                    </tr>
                    `,$("#dimensionsRow").replaceWith(n)),s.is_show_stock_status){if($("#stock_qty").removeClass("display-none"),"In Stock"==s.stock_status){if($("#stock_qty").html("<span class='text-green-1 capitalize leading-4 bg-green-2 px-4 py-2 text-sm roboto-medium font-medium rounded mr-2.5 rtl-direction-space-left'>"+jsLang("In Stock")+"</span>"),s.is_show_stock_quantity){var l=jsLang(":x items remaining");l=l.replace(":x",s.stock_quantity),$("#stock_qty").append(l)}}else $("#stock_qty").html('<span class="text-reds-3 leading-4 bg-pinks-2 px-4 py-2 text-sm roboto-medium font-medium rounded capitalize">'+jsLang("Out Of Stock")+"</span>")}return"sale"==s.priceType?($("#item_offer_price").text(decimalNumberFormatWithMultiCurrency(s.regular)),$("#item_offer_price").removeClass("display-none"),M(s.saleTo,!0)):($("#item_offer_price").addClass("display-none"),$("#countDown").addClass("display-none")),!1}}),!0==t&&(variationId=null,variationAttributeIds=[],o=0,$("#item_offer_price").addClass("display-none"),$("#item_price").addClass("display-none"),$("#stock_qty").addClass("display-none"),$("#varMinMaxPrice").removeClass("display-none"),!0==C()&&$("#availability").removeClass("display-none"),B(null,"default"),$(".product-view-summary .main-summary").removeClass("display-none"),$(".product-view-summary .variation").addClass("display-none"))}function _(e){let t="";$.each(e,function(e,s){s.min_qty&&s.max_qty&&s.price&&(t+=`<tr class="py-4 px-6 border b2b_table">
                        <td class="py-4 px-6 border">${s.min_qty}</td>
                        <td class="py-4 px-6 border">${s.max_qty}</td>
                        <td class="py-4 px-6 border">${s.price}</td>
                    </tr>`)});let s=`<table class="text-left w-full border-collapse border text-sm md:text-13 mt-10p" id="b2b-table">
                            <tbody class="text-gray-10 roboto-medium">
                              <th class="py-4 px-6 border">${jsLang("Min Qty")}</th>
                              <th class="py-4 px-6 border">${jsLang("Max Qty")}</th>
                              <th class="py-4 px-6 border">${1==e.length?jsLang("B2B price"):jsLang("B2B prices")}</th>
                              ${t}
                            </tbody>
                          </table>`;$("#b2b_table").append(s),x()}function x(){$("#b2b-table").removeClass("display-none"),void 0!==$(".b2b_table").length?0==$(".b2b_table").length&&$("#b2b-table").addClass("display-none"):void 0===$(".b2b_table").length&&$("#b2b-table").addClass("display-none")}function C(){let e=!0;return $(".item-variations").each(function(){if($(this).is("select")){if(""===$(this).val())return e=!1,!1}else if($(this).is(":radio")){let t=$(this).attr("name");if(!$(`input[name="${t}"]:checked`).length)return e=!1,!1}}),e}function k(){let e=!1;return $(".item-variations").each(function(){if($(this).is("select")){if(""!==$(this).val())return e=!0,!1}else if($(this).is(":radio")){let t=$(this).attr("name");if($(`input[name="${t}"]:checked`).length>0)return e=!0,!1}}),e}function T(e,t){let s=possbileVariations[e];void 0!==n&&0==n.length&&(n=s),$(".item-variations").each(function(e,t){$(this).is("option")?$(this).is(":selected")||0==$(this).val().length||(-1!=jQuery.inArray($(this).attr("data-id"),n)?$(this).removeClass("display-none"):1==$(this).attr("data-position")?!1==S($(this).attr("data-position"))&&$(this).addClass("display-none"):$(this).addClass("display-none")):$(this).is("input[type='radio']")&&!$(this).is(":checked")&&0!=$(this).val().length&&(-1!=jQuery.inArray($(this).attr("data-id"),n)?$(this).parent().removeClass("display-none"):1==$(this).attr("data-position")?!1==S($(this).attr("data-position"))&&$(this).parent().addClass("display-none"):$(this).parent().addClass("display-none"))})}function S(e){let t=!0;return 1==e&&$(".item-variations").each(function(s,i){$(this).is("option")?$(this).is(":selected")&&$(this).attr("data-position")==e?t=!0:$(this).is(":selected")&&0!=$(this).val().length&&(t=!1):$(this).is("input[type='radio']")&&($(this).is(":checked")&&$(this).attr("data-position")==e?t=!0:$(this).is(":checked")&&(t=!1))}),t}function I(e=!1){let t=!0;$(".item-variations").each(function(s,i){($(this).is("select")||$(this).is("input[type='radio']"))&&(t=0==$(this).val().length||e)}),!0==t&&(n=[],$(".item-variations option").each(function(e,t){$(this).removeClass("display-none")}),!0==e&&$(".item-variations").each(function(e,t){$(this).is("select")?$(this).val(""):$(this).is("input[type='radio']")&&$(this).prop("checked",!1)}))}function B(e,t="variation"){let s="",i="",a=0,n="",l="",d="",c="";if(1==parseInt(o)&&(c=`<p class="bg-pinks-2 relative z-10 h-4 text-reds-3 mb-2.5 px-1.5 w-max flex items-center rounded-sm leading-3 roboto-medium font-medium pt-2p text-11 whitespace-nowrap">
                            ${jsLang("Stock Out")}
                         </p>`),1==parseInt(featured)&&0==parseInt(o)&&(n=`<p class="primary-bg-color h-5 w-max mb-2.5 justify-center text-white px-2 flex items-center text-center rounded-sm leading-3 roboto-medium font-medium text-11">${jsLang("Featured")}</p>`),5==parseInt(reviewAvg)&&0==parseInt(o)&&(l=`<div class="flex justify-center items-center px-1.5 whitespace-nowrap my-2.5 bg-green-5 h-5 leading-3 roboto-medium font-medium text-white text-11 rounded-sm w-max">
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12" fill="none">
                                    <path d="M5 0L6.12257 3.45492H9.75528L6.81636 5.59017L7.93893 9.04508L5 6.90983L2.06107 9.04508L3.18364 5.59017L0.244718 3.45492H3.87743L5 0Z" fill="white"/>
                                </svg>
                                <p>${jsLang("Top Rated")}</p>
                            </div>`),!0==offerFlag&&0==parseInt(o)&&(d=`<p class="primary-bg-color h-5 text-gray-12 px-2 justify-center flex items-center rounded-sm leading-3 roboto-medium font-medium text-11 whitespace-nowrap w-max uppercase">${r}% ${jsLang("off")}</p>`),"variation"==t)a++,s+=`
                     <div class="swiper-slide flex justify-center items-center border-gray-2 rounded-sm swiper-slide-thumbs">
                        <img class="p-1.5 object-contain h-12 cursor-pointer" src="${e}" alt="">
                    </div>
                `,i+=`
                      <div class="relative">
                        <div class="absolute z-10 left-3.5 top-3.5">
                           ${c}
                           ${n}
                           ${l}
                           ${d}
                        </div>
                    </div>
                     <div class="swiper-slide minimum-height w-full zoom" style="background-image: url(${e})">
                        <img class="swiper-slide-img" src="${e}" alt="...">
                      </div>
                `,$("#zoomImage").html(i),$("#sliderImage").html(s);else if("default"==t){let p="";d="",p=JSON.parse(defaultImages),$.each(p,function(e,t){if(a++,videoExtensions.map(e=>t.includes(e)).includes(!0))var o=`<video
                    preload="auto"
                    >
                    <source src="${t}" type="video/mp4">
                    </video>`;else var o=`<img class="p-1.5 object-contain h-12 cursor-pointer" src="${t}" alt="...">`;if(p.length>1&&(s+=`
                     <div class="swiper-slide flex justify-center items-center border-gray-2 rounded-sm swiper-slide-thumbs">
                      ${o}
                    </div>
                `),videoExtensions.map(e=>t.includes(e)).includes(!0))var r=!1,o=`<video
                    class="w-full h-[336px] md:h-[370px]"
                    controls
                    autoplay
                    muted
                    loop
                    >
                    <source src="${t}" type="video/mp4">
                </video>`;else var r=!0,o=`<img class="swiper-slide-img" src="${t}" alt="...">`;i+=`
                     <div class="relative">
                        <div class="absolute z-10 left-3.5 top-3.5">
                           ${n}
                           ${l}
                           ${d}
                        </div>
                    </div>
                     <div class="swiper-slide  minimum-height w-full ${r?"zoom":""}" style="background-image: url(${t})">
                        ${o}
                      </div>
                `}),$("#zoomImage").html(i),$("#sliderImage").html(s)}slideCounts=a,setTimeout(()=>{$(".product-thumbs").css("opacity","1")},5);var u=new Swiper(".gallery-thumbs",{spaceBetween:20,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,preloadImages:!1,breakpoints:{1152:{slidesPerView:5,spaceBetween:20}}});new Swiper(".swiper-container-main",{observer:!0,observeParents:!0,observeChildren:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preloadImages:!1,keyboard:{enabled:!0},effect:"coverflow",coverflowEffect:{rotate:60,slideShadows:!1},thumbs:{swiper:u}}),$(".zoom").mousemove(function(e){var t,s,i,a,o=e.currentTarget;t=e.offsetX?e.offsetX:e.touches[0].pageX,e.offsetY?s=e.offsetY:t=e.touches[0].pageX,i=t/o.offsetWidth*100,a=s/o.offsetHeight*100,o.style.backgroundPosition=i+"% "+a+"%"})}function z(){let e=0;$(".item-variations").each(function(){$(this).find("option").each(function(t,s){$(this).is(":selected")&&0!=$(this).val().length&&(a[e++]=$(this).attr("data-id"))})}),$("input[type='radio'].item-variations:checked").each(function(){a[e++]=$(this).attr("data-id")})}function P(e){let t=!0;if($.each(e,function(e,s){-1!=jQuery.inArray(s,a)?!1!=t&&(t=!0):(t=!1,L(i,null))}),t)return t}function L(e,t="variation"){"variation"==t?$("#item_price").text(decimalNumberFormatWithMultiCurrency(e)):$("#item_price").text(e)}function M(e,t){if(clearInterval(offerTimerDetailsPage),!0==t){let s=!1;var i=new Date(e).getTime();offerTimerDetailsPage=setInterval(function(){var e=new Date().getTime(),t=i-e,a=Math.floor(t/864e5);a>=0&&$("#count_days").length>0&&$("#count_others").length>0&&(s=!0,document.getElementById("count_days").innerHTML=a+jsLang("Days"),document.getElementById("count_others").innerHTML=Math.floor(t%864e5/36e5)+" "+jsLang("hrs")+" : "+Math.floor(t%36e5/6e4)+" "+jsLang("mins")+" : "+ +Math.floor(t%6e4/1e3)+" "+jsLang("sec"))},1e3),setTimeout(function(){s?$("#countDown").removeClass("display-none"):$("#countDown").addClass("display-none")},1e3)}}$(document).on("click","#stars li",function(){b=!0}),$(document).on("submit","#reviewUpdateFrom",function(t){t.preventDefault();var s=this;if($("#imgs").find(".pip").length>15)return $("#message").show(200),$("#message").html('<span class="font-bold text-red-600">'+jsLang("You can only upload a maximum of 15 files.")+"</span>"),0;var i=new FormData(this);$(".review-submit-modal-btn").html(`
                ${jsLang("Submitting")}
                <svg class="animate-spin text-gray-700 w-4 h-4 ml-1 mt-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="#000" stroke-width="3"></circle>
                    <path class="opacity-75" fill="#fff" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
            `),b&&i.append("rating",e),$.ajax({url:SITE_URL+"/site/review/update",type:"POST",dataType:"JSON",data:i,contentType:!1,cache:!1,processData:!1,success:function(e){if(1==e.status){v=[],p=[],u=0,h=0;var t=Number($("span.relative.inline-flex.items-center.px-4.py-2.-ml-px").text());f(1e3)&&f(t),$("#imgs").hide(),$("#message").show(200),$("#message").html('<span class="font-bold text-green-600">'+jsLang(e.message)+"</span>"),setTimeout(()=>{f($("span.relative.inline-flex.items-center.px-4.py-2.-ml-px").text()),$("#message").hide(),$("#imgs").show(),$(s).find(".review-close-modal-btn").trigger("click")},2500)}else $("#message").show(200),$("#message").html('<span class="font-bold text-red-600">'+jsLang(e.message)+"</span>")},error:function(e,t,s){401==e.status?($("#message").show(200),$("#message").html('<span class="font-bold text-red-600">'+jsLang("To give a review, you need to login first.")+"</span>")):($("#message").show(200),$("#message").html('<span class="font-bold text-red-600">'+jsLang(s)+"</span>"))},complete:function(){$(".review-submit-modal-btn").html(`
                        ${jsLang("Submit")}
                    `)}})}),$(document).on("click",".remove-review-image",function(){var e=$(this).data("path"),t=$(this),s=$(this).data("key");Swal.fire({title:jsLang("Are you sure?"),text:jsLang("You won't be able to revert this!"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#2c2c2c",cancelButtonColor:"#d33",confirmButtonText:jsLang("Yes, delete it!")}).then(i=>{i.isConfirmed&&$.ajax({url:SITE_URL+"/site/review/destroy",data:{path:e,_token:token},type:"POST",dataType:"JSON",success:function(e){t.closest(".pip").remove(),$("body #review-image-"+s).closest("div").hide()}})})}),$(document).on("click",".filter",function(){$(".filter-value").text($(this).text());let e=$(this).data("star"),t=$(this).data("item");$(".filter-value").data("filter-star",e),$(".filter").children().removeClass("primary-text-color"),$(".filter span.text-md").addClass("ml-3"),$(".filter span.text-md").text(""),$(this).prepend(`<span class="primary-text-color -mr-3 text-md">âœ“</span>`),$(this).children().addClass("primary-text-color"),blockElement($("#load_review")),fetchReview(e,t)}),$("#rating").click(function(){$("#load_review")[0].scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}),$("#clear-variation").click(function(){I(!0),$("#clear-variation").addClass("display-none"),$("#stock_qty").addClass("display-none"),$("#item_offer_price").addClass("display-none"),$("#item_price").addClass("display-none"),$("#countDown").addClass("display-none"),$("#varMinMaxPrice").removeClass("display-none"),$(".product-view-summary .main-summary").removeClass("display-none"),$(".product-view-summary .variation").addClass("display-none"),$("#b2b_table").html(""),B("","default"),variationId=null,variationAttributeIds=[]}),$(document).on("change",".item-variations",function(e){$(this).is("select")?0!=$(this).val().length?T($("option:selected",this).attr("data-id"),$("option:selected",this).attr("data-position")):I():$(this).is("input[type='radio']")&&($(this).is(":checked")?T($(this).attr("data-id"),$(this).attr("data-position")):I()),z(),y(),!0==k()?$("#clear-variation").removeClass("display-none"):$("#clear-variation").addClass("display-none")})}function Tabs(e,t=0){var s,i=document.querySelector(e.el),a=!1,o=i.querySelector(".c-tabs-nav"),n=i.querySelectorAll(".c-tabs-nav__link"),r=i.querySelectorAll(".c-tab"),l=!!e.marker&&(s=document.createElement("div"),s.classList.add("c-tab-nav-marker"),o.appendChild(s),s),d=t;function c(e,t){e.addEventListener("click",function(e){e.preventDefault(),p(t)})}function p(e){e>=0&&e!=d&&e<=n.length&&(n[d].classList.remove("is-active"),n[e].classList.add("is-active"),r[d].classList.remove("is-active"),r[e].classList.add("is-active"),l&&u(n[e]),d=e)}function u(e){-1!=initialTab&&(l.style.left=e.offsetLeft+"px",l.style.width=e.offsetWidth+"px")}return{init:function e(){if(!a){a=!0;for(var t=0;t<n.length;t++)c(n[t],t);l&&u(n[d])}},goToTab:p}}initialTab=parseInt(initialTab);var m=new Tabs({el:"#tabs",marker:!0});function tabCssChange(e){1==e?($("#product-specification").addClass("is-active"),$("#product-specification-panel").addClass("is-active")):2==e?($("#product-description").removeClass("is-active"),$("#product-description-panel").removeClass("is-active"),$("#product-vendor-info").addClass("is-active"),$("#product-vendor-info-panel").addClass("is-active")):3==e?($("#product-description").removeClass("is-active"),$("#product-description-panel").removeClass("is-active"),$("#product-review").addClass("is-active"),$("#product-review-panel").addClass("is-active")):-1==e&&$("#nav-line").removeClass("c-tabs-nav")}m.init(),tabCssChange(initialTab),$("#rating").click(function(){new Tabs({el:"#tabs",marker:!0},ratingTab).init(),$("#product-description").removeClass("is-active"),$("#product-description-panel").removeClass("is-active"),$("#product-specification").removeClass("is-active"),$("#product-specification-panel").removeClass("is-active"),$("#product-vendor-info").removeClass("is-active"),$("#product-vendor-info-panel").removeClass("is-active"),$("#product-review").addClass("is-active"),$("#product-review-panel").addClass("is-active");let e=0;$.each($(".c-tab-nav-marker"),function(){0==e&&$(this).remove(),e++}),$("html, body").animate({scrollTop:$("#product-review-panel").offset().top},1e3)}),setTimeout(()=>{$(".product-thumbs").css("opacity","1")},5);var galleryThumbs=new Swiper(".gallery-thumbs",{spaceBetween:20,slidesPerView:4,freeMode:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,preloadImages:!1,breakpoints:{1152:{slidesPerView:5,spaceBetween:20}}}),swiper=new Swiper(".swiper-container-main",{observer:!0,observeParents:!0,observeChildren:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preloadImages:!1,keyboard:{enabled:!0},effect:"coverflow",coverflowEffect:{rotate:60,slideShadows:!1},thumbs:{swiper:galleryThumbs}});function fetchReview(e=0,t=1,s=1){$.ajax({url:SITE_URL+"/site/review/filter?page="+s,data:{rating:e,product_id:t,_token:token},type:"POST",success:function(e){$("#load_review").html(e)},complete:function(e){unblockEverything()}})}$(".zoom").mousemove(function(e){var t,s,i,a,o=e.currentTarget;t=e.offsetX?e.offsetX:e.touches[0].pageX,e.offsetY?s=e.offsetY:t=e.touches[0].pageX,i=t/o.offsetWidth*100,a=s/o.offsetHeight*100,o.style.backgroundPosition=i+"% "+a+"%"}),$(document).on("click","a.review",function(){$("a").removeClass("is-acive"),$(this).addClass("is-active"),$("div.c-tab").removeClass("is-active"),$("div.c-tab.review").addClass("is-active"),$(document).scrollTop($("#item-details-section").offset().top-100)}),$("a.review").trigger("click"),$(document).on("click","#review-open-modal-btn",function(){$("body").css("overflow","hidden");var e=$(".edit-modal");$(".edit-modal").remove(),$("body").append(e)}),$(document).on("click",".review-close-modal-btn, .review-submit-modal-btn",function(){$("body").css("overflow","visible")}),$(document).on("click","#review-paginate a",function(e){e.preventDefault(),blockElement($("#load_review")),fetchReview($(".filter-value").data("filter-star"),$(".filter-value").data("item"),$(this).attr("href").split("page=")[1])});const unblockEverything=()=>{$(".blockUI").each(function(){$(this).parent().unblock()})},blockElement=(e,t={})=>{let s=Object.assign({},{message:`<div class="flex justify-center">
                        <svg class="animate-spin text-gray-700 w-4 h-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="#000" stroke-width="3"></circle>
                        <path class="opacity-75" fill="#fff" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                    </div>`,css:{backgroundColor:"transparent",border:"none"}},t);e.block(s)};$(window).on("load",function(){$("#lazyIframe").attr("src",$("#lazyIframe").data("src"))}),$(document).ready(function(){function e(e,t){var s=$("#"+e);s.length&&s.attr("data-itemId")&&$.ajax({type:"GET",url:SITE_URL+"/"+t+"/"+s.attr("data-itemId"),success:function(e){s.html(e),loadLazyImages()}})}e("same_shop","load-same-shop"),e("related_products","load-related-products"),e("upsale_products","load-upsale-products")});