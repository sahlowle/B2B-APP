"use strict";function passwordValidation(){var e=!0,t="",a=[];return(uppercase&&0>$(".password-validation").val().search(/[A-Z]/)&&(a.push(jsLang("uppercase")),e=!1),lowercase&&0>$(".password-validation").val().search(/[a-z]/)&&(a.push(jsLang("lowercase")),e=!1),number&&0>$(".password-validation").val().search(/[0-9]/)&&(a.push(jsLang("numbers")),e=!1),symbol&&0>$(".password-validation").val().search(/[#?!@$%^&*-]/)&&(a.push(jsLang("symbols")),e=!1),a.length>0&&(t=(t=jsLang("Password must contain :x")).replace(":x",a.join(", "))),length&&$(".password-validation").val().length<length&&(t=t.length>0?(t=(t=jsLang("Password must contain :x and :y characters long.")).replace(":x",a.join(", "))).replace(":y",length):(t=jsLang("Password must be at least :x characters.")).replace(":x",length),e=!1),!1==e)?($(".password-validation-error").addClass("text-red").text(t),!1):0!=$("#password").val().localeCompare($("#confirm_password").val()??$("#password").val())?($(".password-validation-error").addClass("text-red").text(jsLang("Passwords does not match!")),!1):($("form").find(":submit").text($(".admin-password-update").length?jsLang("Updating"):jsLang("Creating")).append('<div class="spinner-border spinner-border-sm ml-2" role="status">'),$("form").find(":submit").addClass("disabled-btn"),!0)}if(($(".main-body .page-wrapper").find("#user-add-container").length||$(".main-body .page-wrapper").find("#user-edit-container").length)&&($("#validatedCustomFile").on("change",function(){for(var e=[],t=0;t<$(this)[0].files.length;t++)e.push($(this)[0].files[t].name);$(this).next(".custom-file-label").html(e.join(", "));var a=this.files[0].type;return 0>$.inArray(a,["image/gif","image/jpeg","image/png","image/bmp"])?($("#divNote").show(),$("#note_txt_1").hide(),$("#note_txt_2").html('<h6> <span class="text-danger font-weight-bolder">'+jsLang("Invalid file extension")+'</span> </h6> <span class="badge badge-danger">'+jsLang("Note")+"!</span> "+jsLang("Allowed File Extensions: jpg, png, gif, bmp")),$("#note_txt_2").show(),$("#prvw").hide(),!1):($("#prvw").show(),$("#note_txt_2, #note_txt_1").hide(),!0)}),$("#role_id").on("change",function(){$("#role_id").val()==vendorStaffRole?getVendorList():($(".vendor").remove(),$(".user").removeClass("d-none"))}),$(document).on("change","#vendor_id",function(){getVendorRole()})),$(".main-body .page-wrapper").find("#user-import-container").length&&($("#fileRequest").on("click",function(){window.location=SITE_URL.replace("/admin","")+"/public/dist/downloads/user_sheet.csv"}),$(".error, #note_txt_2").hide(),$("#validatedCustomFile").on("change",function(){for(var e=[],t=0;t<$(this)[0].files.length;t++)e.push($(this)[0].files[t].name);$(this).next(".custom-file-label").html(e.join(", "));var a=e.toString().split(".").pop();-1==$.inArray(a,["csv"])?($("#note_txt_1, .error").hide(),$("#note_txt_2").show(),$("#note_txt_2").html('<h6> <span class="text-danger font-weight-bolder">'+jsLang("Invalid file extension")+' </span> </h6> <span class="badge badge-info note-style">'+jsLang("Note")+'</span><small class="text-info"> '+jsLang("Allowed File Extensions: csv"))):$("#note_txt_1, #note_txt_2").hide()})),$(".main-body .page-wrapper").find("#site-user-edit-container").length){var e=null;imgInp.onchange=t=>{let[a]=imgInp.files;a&&(e=imgInp.files,blah.src=URL.createObjectURL(a)),0==imgInp.files.length&&null!=e&&(imgInp.files=e)}}function getVendorList(){$.ajax({url:vendorListUrl,type:"get",dataType:"json",data:{roleId:$("#role_id").val(),vendorId:$("#vendor_id").val(),userId:user_id},success:function(e){$(".user").addClass("d-none"),$("#role_id").closest(".form-group.row").after(e.response.records.data),$("#vendor_id").select2(),$("#vendor_role_id").select2()},error:function(e,t,a){}})}function getVendorRole(){$.ajax({url:vendorRoleUrl,type:"get",dataType:"json",data:{vendorId:$("#vendor_id").val()},success:function(e){$(".vendor.role").remove(),$("#vendor_id").closest(".form-group.row").after(e.response.records.data),$("#vendor_role_id").select2()},error:function(e,t,a){}})}$(document).on("file-attached",".custom-file",function(e,t){let a=t.data;a&&$(this).closest(".preview-parent").find(".custom-file-input").val(a[0].id)}),$(document).ready(function(){$(".main-body .page-wrapper").find("#user-edit-container").length&&(""!=window.location.hash?$(window.location.hash+"-tab").trigger("click"):($("#user-info-tab").trigger("click"),$("html,body").scrollTop(0)),$("#role_id").val()==vendorStaffRole&&getVendorList())}),$(document).on("click","ul.nav li",function(e){if(""==e.target.href)return!1;window.location.replace(e.target.href),$("html,body").scrollTop(0)}),$(document).on("keyup","#password,#confirm_password",function(){$(".password-validation-error").text("")}),$(".genderSelect").select2({minimumResultsForSearch:1/0});