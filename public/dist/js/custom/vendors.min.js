"use strict";if($(".main-body .page-wrapper").find("#vendor-add-container, #vendor-list-container, #vendor-edit-container").length&&$("#validatedCustomFile").on("change",function(){for(var a=[],b=0;b<$(this)[0].files.length;b++)a.push($(this)[0].files[b].name);$(this).next(".custom-file-label").html(a.join(", "));var c=this.files[0],d=c.type;return 0>$.inArray(d,["image/jpg","image/jpeg","image/png"])?($("#divNote").show(),$("#note_txt_1").hide(),$("#note_txt_2").html("<h6> <span class=\"text-danger font-weight-bolder\">"+jsLang("Invalid file extension")+"</span> </h6> <span class=\"badge badge-danger\">"+jsLang("Note")+"!</span> "+jsLang("Allowed File Extensions: jpg, png, gif, bmp")),$("#note_txt_2").show(),!1):($("#note_txt_2, #note_txt_1").hide(),!0)}),$(".main-body .page-wrapper").find("#vendor-list-container").length&&$(document).on("click","#csv, #pdf",function(a){a.preventDefault(),window.location=SITE_URL+"/vendors/"+this.id}),$(".main-body .page-wrapper").find("#shop-table").length){$(document).on("click","#csv, #pdf",function(a){a.preventDefault(),window.location=SITE_URL+"/shop/"+this.id+"/"+vendor_id}),function(a,b){$(a).DataTable({columnDefs:[{targets:b,orderable:!1}],language:{url:app_locale_url},pageLength:row_per_page})}("#dataTableBuilder",6)}function passwordValidation(){if($(".password-input").closest(".form-group").is(":hidden"))return $("form").find(":submit").text(jsLang("Creating")).append(`<div class="spinner-border spinner-border-sm ml-2" role="status">`),$("form").find(":submit").addClass("disabled-btn"),!0;var a=!0,b="",c=[];return(uppercase&&0>$(".password-validation").val().search(/[A-Z]/)&&(c.push(jsLang("uppercase")),a=!1),lowercase&&0>$(".password-validation").val().search(/[a-z]/)&&(c.push(jsLang("lowercase")),a=!1),number&&0>$(".password-validation").val().search(/[0-9]/)&&(c.push(jsLang("numbers")),a=!1),symbol&&0>$(".password-validation").val().search(/[#?!@$%^&*-]/)&&(c.push(jsLang("symbols")),a=!1),0<c.length&&(b=jsLang("Password must contain :x"),b=b.replace(":x",c.join(", "))),length&&$(".password-validation").val().length<length&&(0<b.length?(b=jsLang("Password must contain :x and :y characters long."),b=b.replace(":x",c.join(", ")),b=b.replace(":y",length)):(b=jsLang("Password must be at least :x characters."),b=b.replace(":x",length)),a=!1),!1==a)?($(".password-validation-error").addClass("text-red").text(b),!1):($("form").find(":submit").text(jsLang("Creating")).append(`<div class="spinner-border spinner-border-sm ml-2" role="status">`),$("form").find(":submit").addClass("disabled-btn"),!0)}$(".main-body .page-wrapper").find("#vendor-add-container, #vendor-edit-container").length&&($("#btnSubmit").on("click",function(){setTimeout(()=>{0<$("body").find(".error").length&&$(".error").first().closest(".form-group").find(".form-control").focus()},100)}),$(document).on("keypress",function(a){setTimeout(()=>{var b=a.keyCode?a.keyCode:a.which;"13"==b&&0<$("body").find(".error").length&&$(".error").first().closest(".form-group").find(".form-control").focus()},100)})),$(document).on("file-attached",".custom-file",function(a,b){let c=b.data;c&&$(this).closest(".preview-parent").find(".custom-file-input").val(c[0].id)}),$(".select-user").select2({ajax:{url:SITE_URL+"/find-vendor-assign-users",dataType:"json",delay:250,data:function(a){return{q:a.term,page:a.page}},processResults:function(a){var b=$(".select-user").find("option:first");return b.length&&a.push({id:b.val(),name:b.text(),email:b.attr("data-email"),image:b.attr("data-image")}),{results:a}},cache:!0},placeholder:jsLang("Search for user by name."),allowClear:!0,minimumInputLength:1,language:{inputTooShort:function(){return jsLang("Start typing to search...")},noResults:function(){return jsLang("No results found")},searching:function(){return jsLang("Searching...")}},templateSelection:function(a){return a.id?(a.text&&(a.name=a.text,a.image=a.image||$(".select-user").find("option:first").attr("data-image")),$("<div><img class='rounded'  src='"+a.image+"' width='25' height='25'/><span class='ms-2 fw-bold'> "+a.name+"</span></div>")):jsLang("Start typing to search...")},templateResult:function(a){return a.id&&a.image?$(`<div class="d-flex align-items-center">
                <div>
                    <img class="rounded" width="25" height="25" src="${a.image}">
                </div>
                <div class="ms-3">
                    <div><strong>${a.name}</strong></div>
                </div>
            </div>`):void 0}}),$(".select-user").on("change",function(){$(this).val()?($(".password-input").closest(".form-group").hide(),$(".password-input input").prop("required",!1)):($(".password-input").closest(".form-group").show(),$(".password-input input").prop("required",!0))});
